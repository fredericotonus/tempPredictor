---
title: "Predicting temperature with tempPredictor"
author: "Frederico"
date: "2026-02-11"
output: 
        ioslides_presentation:
                widescreen: true
                self_contained: false
---

## Features

```{r, include=FALSE, message=FALSE}
library(tidyr)
library(plotly)
```

- **Interactive sliders**: Adjust solar radiation in Langley units (Ly) and wind speed in miles per hour (mph)

- **Month selection**: Analyze data for specific months (May-September) or all months combined

- **Dynamic model fitting**: Linear regression models are recalculated based on the selected month

- **Visual feedback**: Scatter plots with regression lines and prediction points

- **Temperature predictions**: Real-time temperature forecasts from three different models

## Functionality

The application fits <u>three linear regression models</u>:

- **Solar Model**: Temperature ~ Solar Radiation

*Shows how temperature increases with solar radiation*

- **Wind Model**: Temperature ~ Wind Speed

*Shows how temperature decreases as wind speed increases*

- **Combined Model**: Temperature ~ Solar Radiation + Wind Speed

*Uses both variables for more accurate predictions*

<span style="color: red;">**Important note**: <span style="color: DarkCyan;">in the app, all models are refitted using only the data from the selected month, providing month-specific insights.

## Predicting temperature from solar radiation

```{r, echo=FALSE, fig.align='left', fig.cap="<span style='font-size: 16px;'>from ***airquality*** data set after dropping out rows with solar radiation missing values</span>"}

airquality <- drop_na(airquality, Solar.R)
model1 <- lm(Temp ~ Solar.R, data = airquality)
sr_range <- 0:350
pred1 <- predict(model1, newdata = data.frame(Solar.R = sr_range))
summary(model1)$call

plot_ly() %>%

add_trace(data = airquality, 
          x = airquality$Solar.R, 
          y = airquality$Temp,
          mode = "markers", color = as.factor(airquality$Month),
          type = "scatter"
          ) %>%
        
layout(legend = list(title = list(text = '<b> Months </b>')),
       xaxis = list(title = "solar radiation in Ly", range = c(0, 350)), 
       yaxis = list(title = "temperature (ºF)", range = c(50, 100)),
       plot_bgcolor = "beige",
       shapes = list(type = "rect", xref = "paper", yref = "paper",
       x0 = 0, y0 = 0, x1 = 1, y1 = 1,
       line = list(color = "brown", width = 2, dash = "solid"),
       fillcolor = "transparent")
       ) %>%
        
add_trace(x = sr_range, y = pred1, name = "Regression Line", 
          mode = "lines", type = "scatter", 
          line = list(color = "black", width = 3, dash = "dash"))
```

## Predicting temperature from wind speed

```{r, echo=FALSE, fig.align='left', fig.cap="<span style='font-size: 16px;'>from ***airquality*** data set after dropping out rows with solar radiation missing values</span>"}

airquality <- drop_na(airquality, Solar.R)
model2 <- lm(Temp ~ Wind, data = airquality)
w_range <- 0:25
pred2 <- predict(model2, newdata = data.frame(Wind = w_range))
summary(model2)$call

plot_ly() %>%

add_trace(data = airquality, 
          x = airquality$Wind, 
          y = airquality$Temp,
          mode = "markers", color = as.factor(airquality$Month),
          type = "scatter"
          ) %>%
        
layout(legend = list(title = list(text = '<b> Months </b>')),
       xaxis = list(title = "wind speed in mph", range = c(0, 25)), 
       yaxis = list(title = "temperature (ºF)", range = c(50, 100)),
       plot_bgcolor = "beige",
       shapes = list(type = "rect", xref = "paper", yref = "paper",
       x0 = 0, y0 = 0, x1 = 1, y1 = 1,
       line = list(color = "brown", width = 2, dash = "solid"),
       fillcolor = "transparent")
       ) %>%
        
add_trace(x = w_range, y = pred2, name = "Regression Line", 
          mode = "lines", type = "scatter", 
          line = list(color = "black", width = 3, dash = "dash"))
```

